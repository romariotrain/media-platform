# Media Service — Граница ответственности

## Что принимает

Сервис принимает команды на регистрацию медиа-объекта в системе (создание записи о медиа) и запросы на чтение состояния/метаданных медиа по идентификатору.

## Что хранит

Сервис хранит каноническую запись о медиа-объекте (ID, тип, источник/ссылка, статус жизненного цикла, таймстемпы). Это источник истины по состоянию медиа в пределах домена "Media".

## Что гарантирует

После успешного `POST /media` клиент получает уникальный `media_id`, по которому можно детерминированно читать состояние объекта (`GET /media/{id}`).

## Что гарантирует по состоянию

Сервис поддерживает конечный автомат статусов (минимум `uploaded → processing → ready|failed`) и обеспечивает валидность переходов (даже если фактическая обработка выполняется другими сервисами).

## Что гарантирует по идемпотентности

API может быть расширен заголовком `Idempotency-Key` для безопасных повторов создания (в MVP можно оставить как "planned"). Важно: фиксируем как принцип проектирования.

## Чего не делает принципиально

Сервис `media` не занимается фактической загрузкой файлов/байтов, не выполняет транскодирование/обработку, не публикует контент наружу, не управляет квотами. Он фиксирует состояние и метаданные.

## Граница ответственности

Изменения статусов происходят либо через внутренние вызовы/события (например, из `processing`), но `media` остаётся единой точкой, где хранится жизненный цикл.